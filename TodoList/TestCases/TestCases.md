# Тест-кейсы для TodoList приложения

**Авторы:** Токмаков и Неофидис  
**Группа:** 3834  


## 1. Пользователи и авторизация

### ТС-01 Создание нового пользователя

**Описание:** Проверка создания нового пользователя в системе.

**Предусловия:** Приложение запущено. В папке data отсутствует файл profile.txt.

**Последовательность действий:**
1. Запустить приложение.
2. При запросе ввести имя: `Иван`
3. Ввести фамилию: `Петров`
4. Ввести год рождения: `1990`

**Ожидаемый результат:**
- Создан пользователь "Иван Петров, возраст 36"
- В консоль выводится сообщение с данными пользователя
- В папке data создан файл profile.txt с содержимым "Иван;Петров;1990"

**Скриншоты:**
- Screenshots/TC-01-create-user.png

---

### ТС-02 Автоматическая загрузка существующего пользователя

**Описание:** Проверка загрузки существующего профиля при запуске.

**Предусловия:** В папке data существует файл profile.txt с данными пользователя.

**Последовательность действий:**
1. Запустить приложение.

**Ожидаемый результат:**
- Автоматически загружается существующий профиль
- В консоль выводится сообщение "Загружен профиль: Иван Петров, возраст 36"

**Скриншоты:**
- Screenshots/TC-02-load-profile.png

---

### ТС-03 Просмотр данных пользователя

**Описание:** Проверка команды просмотра профиля.

**Предусловия:** Пользователь авторизован.

**Последовательность действий:**
1. Ввести команду: `profile`

**Ожидаемый результат:**
- Отображаются данные текущего пользователя в формате "Имя Фамилия, возраст N"

**Скриншоты:**
- Screenshots/TC-03-profile-view.png

---

### ТС-04 Выход из профиля

**Описание:** Проверка выхода из текущего профиля.

**Предусловия:** Пользователь авторизован.

**Последовательность действий:**
1. Ввести команду: `profile --out`

**Ожидаемый результат:**
- Выполнен выход из профиля
- Консоль очищена от данных пользователя
- При следующей команде profile данные не отображаются

**Скриншоты:**
- ТС-04 Выход из профиляScreenshots/TC-04-profile-logout.png

---

## 2. Добавление задач (add)

### ТС-05 Добавление задачи с корректными данными

**Описание:** Проверка добавления обычной задачи.

**Предусловия:** Пользователь авторизован.

**Последовательность действий:**
1. Ввести команду: `add "Купить молоко"`

**Ожидаемый результат:**
- Задача добавлена
- В консоль выводится "Добавлена задача №X: Купить молоко"
- Задача сохраняется в файл todo.csv

**Скриншоты:**
- Screenshots/TC-05, 06, 07, 08, 09.png

---

### ТС-06 Добавление задачи с пустым названием

**Описание:** Проверка обработки пустого текста задачи.

**Предусловия:** Пользователь авторизован.

**Последовательность действий:**
1. Ввести команду: `add ""`

**Ожидаемый результат:**
- Выводится сообщение "Текст задачи не может быть пустым"
- Задача не добавляется в список

**Скриншоты:**
- Screenshots/TC-05, 06, 07, 08, 09.png

---

### ТС-07 Добавление задачи с длинным текстом

**Описание:** Проверка добавления задачи с длинным названием (>50 символов).

**Предусловия:** Пользователь авторизован.

**Последовательность действий:**
1. Ввести команду: `add "Это очень длинное название задачи, которое должно корректно обрабатываться и сохраняться в системе"`

**Ожидаемый результат:**
- Задача добавлена
- В списке задач текст обрезается до 30 символов с "..."
- Полный текст виден при команде read

**Скриншоты:**
- Screenshots/TC-05, 06, 07, 08, 09.png

---

### ТС-08 Добавление многострочных задач

**Описание:** Проверка многострочного режима добавления задач.

**Предусловия:** Пользователь авторизован.

**Последовательность действий:**
1. Ввести команду: `add -m`
2. Ввести первую строку: `Строка 1`
3. Ввести вторую строку: `Строка 2`
4. Ввести `!end` для завершения

**Ожидаемый результат:**
- Задача добавлена с текстом "Строка 1\nСтрока 2"
- При просмотре через read отображаются все строки

**Скриншоты:**
- Screenshots/TC-05, 06, 07, 08, 09.png

---

### ТС-09 Добавление задачи со служебными символами

**Описание:** Проверка обработки специальных символов в тексте задачи.

**Предусловия:** Пользователь авторизован.

**Последовательность действий:**
1. Ввести команду: `add "Текст; с, запятыми: и / другими \\ символами"`

**Ожидаемый результат:**
- Задача добавлена
- Все символы корректно сохраняются и отображаются
- CSV-формат файла не нарушен

**Скриншоты:**
- Screenshots/TC-05, 06, 07, 08, 09.png

---

## 3. Просмотр задач (view)

### ТС-10 Просмотр списка задач

**Описание:** Проверка базового просмотра всех задач.

**Предусловия:** В списке есть несколько задач.

**Последовательность действий:**
1. Ввести команду: `view`

**Ожидаемый результат:**
- Отображается список всех задач
- По умолчанию показывается только текст задачи

---

### ТС-11 Просмотр с флагами отображения

**Описание:** Проверка отображения дополнительной информации.

**Предусловия:** В списке есть несколько задач.

**Последовательность действий:**
1. Ввести команду: `view -i -s -d`

**Ожидаемый результат:**
- Отображаются номера задач (№)
- Отображаются статусы задач
- Отображаются даты последнего изменения

---

### ТС-12 Просмотр всех данных

**Описание:** Проверка флага отображения всей информации.

**Предусловия:** В списке есть несколько задач.

**Последовательность действий:**
1. Ввести команду: `view -a`

**Ожидаемый результат:**
- Отображаются номера, статусы и даты всех задач
- Результат аналогичен `view -i -s -d`

---

### ТС-13 Просмотр при пустом списке

**Описание:** Проверка поведения при отсутствии задач.

**Предусловия:** Список задач пуст.

**Последовательность действий:**
1. Ввести команду: `view`

**Ожидаемый результат:**
- Выводится сообщение "Задачи отсутствуют"

---

## 4. Детальный просмотр задачи (read)

### ТС-14 Полный просмотр задачи

**Описание:** Проверка детального просмотра конкретной задачи.

**Предусловия:** В списке есть задача №1.

**Последовательность действий:**
1. Ввести команду: `read 1`

**Ожидаемый результат:**
- Отображается полный текст задачи
- Отображается статус задачи
- Отображается дата последнего изменения

---

### ТС-15 Просмотр несуществующей задачи

**Описание:** Проверка обработки неверного номера задачи.

**Предусловия:** В списке 3 задачи.

**Последовательность действий:**
1. Ввести команду: `read 5`

**Ожидаемый результат:**
- Выводится сообщение "Задача с номером 5 не найдена"

---

## 5. Изменение статуса задачи (status)

### ТС-16 Изменение статуса задачи

**Описание:** Проверка изменения статуса существующей задачи.

**Предусловия:** В списке есть задача №1 со статусом NotStarted.

**Последовательность действий:**
1. Ввести команду: `status 1 InProgress`

**Ожидаемый результат:**
- Статус задачи изменен на InProgress
- Выводится сообщение "Задача №1 статус изменен с NotStarted на InProgress"
- Дата обновления задачи изменилась

---

### ТС-17 Изменение статуса на недопустимый

**Описание:** Проверка обработки неверного статуса.

**Предусловия:** В списке есть задача.

**Последовательность действий:**
1. Ввести команду: `status 1 InvalidStatus`

**Ожидаемый результат:**
- Выводится сообщение "Неизвестный статус: InvalidStatus"
- Выводится список доступных статусов
- Статус задачи не изменяется

---

### ТС-18 Изменение статуса несуществующей задачи

**Описание:** Проверка обработки неверного номера задачи.

**Предусловия:** В списке 3 задачи.

**Последовательность действий:**
1. Ввести команду: `status 5 Completed`

**Ожидаемый результат:**
- Выводится сообщение "Задача с таким номером не найдена"

---

## 6. Обновление текста задачи (update)

### ТС-19 Обновление текста задачи

**Описание:** Проверка обновления текста существующей задачи.

**Предусловия:** В списке есть задача №1.

**Последовательность действий:**
1. Ввести команду: `update 1 "Новый текст задачи"`

**Ожидаемый результат:**
- Текст задачи обновлен
- Выводится сообщение со старым и новым текстом
- Дата обновления задачи изменилась

---

### ТС-20 Обновление несуществующей задачи

**Описание:** Проверка обработки неверного номера задачи.

**Предусловия:** В списке 3 задачи.

**Последовательность действий:**
1. Ввести команду: `update 5 "Новый текст"`

**Ожидаемый результат:**
- Выводится сообщение "Задача с таким номером не найдена"

---

## 7. Удаление задач (delete)

### ТС-21 Удаление существующей задачи

**Описание:** Проверка удаления задачи.

**Предусловия:** В списке есть несколько задач.

**Последовательность действий:**
1. Запомнить количество задач
2. Ввести команду: `delete 2`

**Ожидаемый результат:**
- Задача удалена
- Выводится сообщение "Задача №2 'текст' удалена"
- Количество задач уменьшилось на 1
- Номера оставшихся задач сместились

---

### ТС-22 Удаление несуществующей задачи

**Описание:** Проверка обработки неверного номера задачи.

**Предусловия:** В списке 3 задачи.

**Последовательность действий:**
1. Ввести команду: `delete 5`

**Ожидаемый результат:**
- Выводится сообщение "Задача с таким номером не найдена"

---

## 8. Поиск задач (search)

### ТС-23 Поиск по части строки

**Описание:** Проверка поиска задач, содержащих указанный текст.

**Предусловия:** В списке есть задачи с текстом "Купить молоко", "Купить хлеб", "Позвонить другу".

**Последовательность действий:**
1. Ввести команду: `search --contains "Купить"`

**Ожидаемый результат:**
- Найдены задачи, содержащие слово "Купить" (обе задачи про покупки)
- Результаты отображаются в табличном формате

---

### ТС-24 Поиск по началу строки

**Описание:** Проверка поиска задач, начинающихся с указанного текста.

**Предусловия:** В списке есть задачи с разными текстами.

**Последовательность действий:**
1. Ввести команду: `search --starts-with "Купить"`

**Ожидаемый результат:**
- Найдены задачи, начинающиеся с "Купить"
- Задача "Позвонить другу" не найдена

---

### ТС-25 Поиск по концу строки

**Описание:** Проверка поиска задач, заканчивающихся указанным текстом.

**Предусловия:** В списке есть задачи.

**Последовательность действий:**
1. Ввести команду: `search --ends-with "молоко"`

**Ожидаемый результат:**
- Найдены задачи, заканчивающиеся на "молоко"

---

### ТС-26 Поиск по статусу

**Описание:** Проверка поиска задач с определенным статусом.

**Предусловия:** В списке есть задачи с разными статусами.

**Последовательность действий:**
1. Ввести команду: `search --status InProgress`

**Ожидаемый результат:**
- Найдены только задачи со статусом InProgress

---

### ТС-27 Поиск с сортировкой по тексту

**Описание:** Проверка сортировки результатов поиска по тексту.

**Предусловия:** Есть несколько задач.

**Последовательность действий:**
1. Ввести команду: `search --sort text`

**Ожидаемый результат:**
- Задачи отсортированы по тексту в алфавитном порядке

---

### ТС-28 Поиск с сортировкой по дате

**Описание:** Проверка сортировки результатов поиска по дате.

**Предусловия:** Есть задачи с разными датами.

**Последовательность действий:**
1. Ввести команду: `search --sort date`

**Ожидаемый результат:**
- Задачи отсортированы по дате изменения (от старых к новым)

---

### ТС-29 Поиск с сортировкой по убыванию

**Описание:** Проверка сортировки по убыванию.

**Предусловия:** Есть несколько задач.

**Последовательность действий:**
1. Ввести команду: `search --sort text --desc`

**Ожидаемый результат:**
- Задачи отсортированы по тексту в обратном алфавитном порядке

---

### ТС-30 Поиск с ограничением количества

**Описание:** Проверка параметра top N.

**Предусловия:** Есть более 5 задач.

**Последовательность действий:**
1. Ввести команду: `search --top 3`

**Ожидаемый результат:**
- Отображаются только первые 3 задачи

---

### ТС-31 Комбинированный поиск

**Описание:** Проверка комбинации нескольких условий поиска.

**Предусловия:** Есть задачи с разными текстами и статусами.

**Последовательность действий:**
1. Ввести команду: `search --contains "Купить" --status Completed --sort date --top 2`

**Ожидаемый результат:**
- Найдены задачи со словом "Купить" и статусом Completed
- Отсортированы по дате
- Показаны только первые 2 задачи

---

### ТС-32 Поиск без результатов

**Описание:** Проверка поведения при отсутствии совпадений.

**Предусловия:** Есть задачи.

**Последовательность действий:**
1. Ввести команду: `search --contains "НесуществующийТекст"`

**Ожидаемый результат:**
- Выводится сообщение "Ничего не найдено"

---

## 9. Undo/Redo

### ТС-33 Отмена добавления задачи

**Описание:** Проверка отмены последнего добавления.

**Предусловия:** В списке N задач.

**Последовательность действий:**
1. Добавить новую задачу: `add "Тестовая задача"`
2. Ввести команду: `undo`

**Ожидаемый результат:**
- Последняя добавленная задача удалена
- Количество задач вернулось к N
- Выводится сообщение "Добавление задачи отменено"

---

### ТС-34 Отмена удаления задачи

**Описание:** Проверка восстановления удаленной задачи.

**Предусловия:** В списке есть задача №2.

**Последовательность действий:**
1. Удалить задачу: `delete 2`
2. Ввести команду: `undo`

**Ожидаемый результат:**
- Удаленная задача восстановлена на позицию 2
- Выводится сообщение "Удаление задачи отменено"

---

### ТС-35 Отмена изменения статуса

**Описание:** Проверка возврата предыдущего статуса.

**Предусловия:** Задача №1 имеет статус NotStarted.

**Последовательность действий:**
1. Изменить статус: `status 1 Completed`
2. Ввести команду: `undo`

**Ожидаемый результат:**
- Статус вернулся к NotStarted
- Выводится сообщение "Статус задачи №1 возвращен к NotStarted"

---

### ТС-36 Отмена обновления текста

**Описание:** Проверка возврата предыдущего текста.

**Предусловия:** Задача №1 имеет текст "Старый текст".

**Последовательность действий:**
1. Обновить текст: `update 1 "Новый текст"`
2. Ввести команду: `undo`

**Ожидаемый результат:**
- Текст вернулся к "Старый текст"
- Выводится сообщение "Текст задачи №1 возвращен к предыдущему значению"

---

### ТС-37 Повтор отмененного действия (redo)

**Описание:** Проверка повтора ранее отмененной команды.

**Предусловия:** Было выполнено и отменено какое-либо действие.

**Последовательность действий:**
1. Ввести команду: `redo`

**Ожидаемый результат:**
- Действие повторено
- Состояние вернулось к состоянию до undo
- Выводится сообщение "Повторено последнее отмененное действие"

---

### ТС-38 Undo при пустом стеке

**Описание:** Проверка поведения при отсутствии действий для отмены.

**Предусловия:** Не выполнялось никаких команд (или стек Undo пуст).

**Последовательность действий:**
1. Ввести команду: `undo`

**Ожидаемый результат:**
- Выводится сообщение "Нет действий для отмены"

---

### ТС-39 Redo при пустом стеке

**Описание:** Проверка поведения при отсутствии действий для повтора.

**Предусловия:** Не выполнялось команды undo (стек Redo пуст).

**Последовательность действий:**
1. Ввести команду: `redo`

**Ожидаемый результат:**
- Выводится сообщение "Нет действий для повтора"

---

## 10. Работа с файлами

### ТС-40 Сохранение данных после добавления задачи

**Описание:** Проверка автоматического сохранения в файл.

**Предусловия:** Приложение запущено.

**Последовательность действий:**
1. Добавить задачу: `add "Тест сохранения"`
2. Закрыть приложение
3. Открыть файл todo.csv

**Ожидаемый результат:**
- В файле todo.csv появилась новая запись с добавленной задачей
- Формат записи: `N;NotStarted;YYYY-MM-DDTHH:MM:SS;"Тест сохранения"`

---

### ТС-41 Загрузка данных при запуске

**Описание:** Проверка загрузки задач из файла.

**Предусловия:** В файле todo.csv есть несколько задач.

**Последовательность действий:**
1. Запустить приложение
2. Ввести команду: `view -a`

**Ожидаемый результат:**
- Все задачи из файла загружены и отображаются корректно
- Выводится сообщение "Загружено задач: X"

---

### ТС-42 Целостность данных при множественных операциях

**Описание:** Проверка сохранения после нескольких операций.

**Предусловия:** Приложение запущено.

**Последовательность действий:**
1. Добавить задачу 1
2. Добавить задачу 2
3. Изменить статус задачи 1
4. Удалить задачу 2
5. Закрыть приложение
6. Открыть файл todo.csv

**Ожидаемый результат:**
- В файле сохранены только задача 1 с измененным статусом
- Все данные соответствуют последнему состоянию

---

## 11. Парсинг строк

### ТС-43 Обработка специальных символов в CSV

**Описание:** Проверка корректного парсинга строк с кавычками.

**Предусловия:** В файле todo.csv есть строка с кавычками внутри текста.

**Последовательность действий:**
1. Добавить задачу: `add "Текст с \"кавычками\" внутри"`
2. Закрыть приложение
3. Открыть todo.csv и проверить формат
4. Запустить приложение и проверить загрузку

**Ожидаемый результат:**
- В файле кавычки экранированы (удвоены)
- При загрузке текст восстанавливается корректно

---

### ТС-44 Обработка поврежденной строки

**Описание:** Проверка устойчивости к поврежденным данным.

**Предусловия:** В файл todo.csv вручную добавлена некорректная строка.

**Последовательность действий:**
1. Добавить в todo.csv строку: `invalid;data;without;enough;fields`
2. Запустить приложение

**Ожидаемый результат:**
- Приложение не падает
- Поврежденная строка пропускается
- Корректные строки загружаются

---

## 12. Команды помощи и навигации

### ТС-45 Вывод справки

**Описание:** Проверка команды help.

**Предусловия:** Приложение запущено.

**Последовательность действий:**
1. Ввести команду: `help`

**Ожидаемый результат:**
- Выводится полный список всех доступных команд с описанием
- Информация структурирована и читаема

---

### ТС-46 Неизвестная команда

**Описание:** Проверка обработки несуществующей команды.

**Предусловия:** Приложение запущено.

**Последовательность действий:**
1. Ввести команду: `unknowncommand`

**Ожидаемый результат:**
- Выводится сообщение "Неизвестная команда: unknowncommand"
- Выводится подсказка "Введите 'help' для просмотра доступных команд"

---

### ТС-47 Пустая команда

**Описание:** Проверка обработки пустого ввода.

**Предусловия:** Приложение запущено.

**Последовательность действий:**
1. Нажать Enter без ввода команды

**Ожидаемый результат:**
- Выводится сообщение "Пустая команда."
- Приложение продолжает работу

---

### ТС-48 Выход из программы

**Описание:** Проверка команды exit.

**Предусловия:** Приложение запущено.

**Последовательность действий:**
1. Ввести команду: `exit`

**Ожидаемый результат:**
- Выводится сообщение "Выход из программы..."
- Приложение завершает работу